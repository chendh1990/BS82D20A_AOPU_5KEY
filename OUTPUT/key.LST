文件：key.c        编译器版本 HGASM 0202 页次1


   1  0000              ; Generated by holtek-gcc v3.18, Thu Aug 02 09:03:51 2018
   2  0000              ; 
   3  0000              ; Configuration:
   4  0000              ;       without long instruction
   5  0000              ;       Single ROM, Multi-RAM
   6  0000              ;       bits_per_rom_unit:16
   7  0000              ;       with mp1
   8  0000              ;       with tbhp, address(0x9)
   9  0000              ;          Use tabrd-const
  10  0000              ;       
  11  0000              ;       
  12  0000              ;       
  13  0000              ; use 'tabrdc' instead of 'tabrd'
  14  0000              ;       
  15  0000              
  16  0000              #pragma translator "holtek-gcc 4.6.4" "3.18" "build 20130711"
  17  0000              ; Rebuild 126
  18  0000              
  19  0000              ir equ [2]
  20  0000              mp equ [3]
  21  0000              sbp equ [1]
  22  0000              acc equ [5]
  23  0000              bp equ [4]
  24  0000              tblp equ [7]
  25  0000              tbhp equ [9]
  26  0000              status equ [10]
  27  0000              c equ [10].0
  28  0000              ac equ [10].1
  29  0000              z equ [10].2
  30  0000              ov equ [10].3
  31  0000              intc equ [11]
  32  0000              
  33  0000              extern ra:byte
  34  0000              extern rb:byte
  35  0000              extern rc:byte
  36  0000              extern rd:byte
  37  0000              extern re:byte
  38  0000              extern rf:byte
  39  0000              extern rg:byte
  40  0000              extern rh:byte
  41  0000              extern _Crom2Prom:near
  42  0000              extern _Crom2PromNext:near
  43  0000              
  44  0000              RAMBANK 0 @HCCINIT, @HCCINIT0
  45  0000              
  46  0000              RAMBANK 0 @BITDATASEC, @BITDATASEC1
  47  0000              @HCCINIT	.section 'data'
  48  0000              @HCCINIT0	.section 'data'
  49  0000              @BITDATASEC	 .section 'data'
  50  0000              @BITDATASEC1	 .section 'data'
  51  0000              
  52  0000              #pragma debug scope 1 1
  53  0000              	extern __DELAY3:near
  54  0000              	extern __DELAYX3:near
  55  0000              	extern __DELAYX6:near
  56  0000              	extern __DELAYY5:near
  57  0000              	extern __DELAYY3:near
  58  0000              	extern _builtin_holtek_delay_2:byte
  59  0000              public _KeyInit
文件：key.ASM      编译器版本 HGASM 0202 页次2

  60  0000              #pragma debug scope 2 1

   8  0000              #line 8 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
   8  0000              _KeyInit .section 'code'
   8  0000              _KeyInit proc
   8  0000  0003        	ret
   8  0001              _KeyInit endp
   8  0001              #line 8 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
   8  0001              #pragma debug scope 1 1
   8  0001              public _readKey
   8  0001              #pragma debug scope 3 1
  15  0001              #line 15 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
  15  0000              _readKey .section 'code'
  15  0000              _readKey proc
  15  0000  00              local _readKey_2 db 1 dup(?)	; 0,1
  20  0001              #line 20 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
  20  0000  3C00     E  	sz _AppData[5].2
  20  0001  2800     R  	jmp _L8
  16  0002              #line 16 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
  16  0002  1F00     E  	clr rb
  16  0003  1F00     E  	clr rc
  16  0004  2800     R  	jmp _L3
  16  0005              _L8:
  22  0005              #line 22 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
  22  0005  0F10        	mov a,16
  22  0006  0080     E  	mov rb,a
  22  0007  1F00     E  	clr rc
  22  0008              _L3:
  25  0008              #line 25 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
  25  0008  0700     E  	mov a,_AppData[3]
  25  0009  0080     R  	mov _readKey_2[0],a
  25  000A  3800     R  	snz _readKey_2[0].3
  25  000B  2800     R  	jmp _L4
  27  000C              #line 27 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
  27  000C  0F00        	mov a,0
  27  000D  0580     E  	orm a,rc
  27  000E  0F08        	mov a,8
  27  000F  0580     E  	orm a,rb
  27  0010              _L4:
  30  0010              #line 30 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
  30  0010  3800     R  	snz _readKey_2[0].2
  30  0011  2800     R  	jmp _L5
  32  0012              #line 32 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
  32  0012  0F00        	mov a,0
  32  0013  0580     E  	orm a,rc
  32  0014  0F01        	mov a,1
  32  0015  0580     E  	orm a,rb
  32  0016              _L5:
  35  0016              #line 35 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
  35  0016  3800     R  	snz _readKey_2[0].1
  35  0017  2800     R  	jmp _L6
  37  0018              #line 37 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
  37  0018  0F00        	mov a,0
  37  0019  0580     E  	orm a,rc
  37  001A  0F02        	mov a,2
  37  001B  0580     E  	orm a,rb
  37  001C              _L6:
  40  001C              #line 40 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
  40  001C  3800     R  	snz _readKey_2[0].0
  40  001D  2800     R  	jmp _L7
文件：key.c        编译器版本 HGASM 0202 页次3

  42  001E              #line 42 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
  42  001E  0F00        	mov a,0
  42  001F  0580     E  	orm a,rc
  42  0020  0F04        	mov a,4
  42  0021  0580     E  	orm a,rb
  42  0022              _L7:
  49  0022              #line 49 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
  49  0022  0700     E  	mov a,rb
  49  0023  0080     E  	mov ra,a
  49  0024  0700     E  	mov a,rc
  49  0025  0080     E  	mov rb,a
  49  0026  0003        	ret
  49  0027              _readKey endp
  49  0027              #line 49 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
  49  0027              #pragma debug scope 1 1
  49  0027              public _KeyDetect
  49  0027              #pragma debug scope 4 1
  56  0027              #line 56 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
  56  0000              _KeyDetect .section 'code'
  56  0000              _KeyDetect proc
  59  0000              #line 59 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
  59  0000  2000     R  	call _readKey
  61  0001              #line 61 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
  61  0001  0700     E  	mov a,ra
  61  0002  0500     E  	or a,rb
  61  0003  390A        	snz z
  61  0004  2800     R  	jmp _L23
  61  0005              #line 61 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
  61  0005  1F80     E  	set ra
  61  0006  1F80     E  	set rb
  61  0007              _L23:
  61  0007  0003        	ret
  61  0008              _KeyDetect endp
  61  0008              #line 61 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
  61  0008              #pragma debug scope 1 1
  61  0008              public _KeyScan
  61  0008              #pragma debug scope 5 1
  72  0008              #line 72 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
  72  0000              _KeyScan .section 'code'
  72  0000              _KeyScan proc
  77  0000              #line 77 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
  77  0000  2000     R  	call _KeyDetect
  77  0001  0700     E  	mov a,rb
  77  0002  0080     E  	mov rc,a
  77  0003  0700     E  	mov a,ra
  77  0004  0080     E  	mov rb,a
  78  0005              #line 78 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
  78  0005  0700     E  	mov a,rb
  78  0006  0600     E  	and a,rc
  78  0007  0B01        	add a,1
  78  0008  380A        	snz c
  78  0009  2800     R  	jmp _L26
  80  000A              #line 80 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
  80  000A  0700     R  	mov a,_keyCounter[0]
  80  000B  0080     E  	mov rd,a
  80  000C  0700     R  	mov a,_keyCounter[1]
  80  000D  0080     E  	mov re,a
  80  000E  0FC7        	mov a,199
  80  000F  0200     E  	sub a,rd
  80  0010  0F00        	mov a,0
文件：key.c        编译器版本 HGASM 0202 页次4

  80  0011  1200     E  	sbc a,re
  80  0012  3C0A        	sz c
  80  0013  2800     R  	jmp _L27
  82  0014              #line 82 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
  82  0014  0700     R  	mov a,___keyValue_2015[1]
  82  0015  0D40        	or a,64
  82  0016  0080     E  	mov rc,a
  82  0017  0700     R  	mov a,___keyValue_2015[0]
  82  0018  0D00        	or a,0
  82  0019  0080     E  	mov rb,a
  82  001A  2800     R  	jmp _L28
  82  001B              _L27:
  84  001B              #line 84 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
  84  001B  0F02        	mov a,2
  84  001C  0200     E  	sub a,rd
  84  001D  0F00        	mov a,0
  84  001E  1200     E  	sbc a,re
  84  001F  3C0A        	sz c
  84  0020  2800     R  	jmp _L28
  86  0021              #line 86 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
  86  0021  0700     R  	mov a,___keyValue_2015[1]
  86  0022  0D30        	or a,48
  86  0023  0080     E  	mov rc,a
  86  0024  0700     R  	mov a,___keyValue_2015[0]
  86  0025  0D00        	or a,0
  86  0026  0080     E  	mov rb,a
  86  0027              _L28:
  89  0027              #line 89 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
  89  0027  1F80     R  	set ___keyValue_2015[0]
  89  0028  1F80     R  	set ___keyValue_2015[1]
  90  0029              #line 90 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
  90  0029  1F00     R  	clr _keyCounter[0]
  90  002A  1F00     R  	clr _keyCounter[1]
  90  002B  2800     R  	jmp _L29
  90  002C              _L26:
  92  002C              #line 92 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
  92  002C  0700     E  	mov a,rb
  92  002D  0400     R  	xor a,___keyValue_2015[0]
  92  002E  0700     E  	mov a,rc
  92  002F  3D0A        	sz z
  92  0030  0400     R  	xor a,___keyValue_2015[1]
  92  0031  3D0A        	sz z
  92  0032  2800     R  	jmp _L30
  94  0033              #line 94 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
  94  0033  0700     E  	mov a,rb
  94  0034  0080     R  	mov ___keyValue_2015[0],a
  94  0035  0700     E  	mov a,rc
  94  0036  0080     R  	mov ___keyValue_2015[1],a
  95  0037              #line 95 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
  95  0037  1F00     R  	clr _keyCounter[0]
  95  0038  1F00     R  	clr _keyCounter[1]
  95  0039  2800     R  	jmp _L25
  95  003A              _L30:
  99  003A              #line 99 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
  99  003A  0F01        	mov a,1
  99  003B  0300     R  	add a,_keyCounter[0]
  99  003C  0080     E  	mov rd,a
  99  003D  0F00        	mov a,0
  99  003E  1300     R  	adc a,_keyCounter[1]
  99  003F  0080     E  	mov re,a
文件：key.c        编译器版本 HGASM 0202 页次5

  99  0040  0700     E  	mov a,rd
  99  0041  0080     R  	mov _keyCounter[0],a
  99  0042  0700     E  	mov a,re
  99  0043  0080     R  	mov _keyCounter[1],a
 100  0044              #line 100 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
 100  0044  0700     E  	mov a,rd
 100  0045  0C03        	xor a,3
 100  0046  0500     E  	or a,re
 100  0047  3D0A        	sz z
 100  0048  2800     R  	jmp _L32
 104  0049              #line 104 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
 104  0049  0700     E  	mov a,rd
 104  004A  0CC8        	xor a,200
 104  004B  0500     E  	or a,re
 104  004C  390A        	snz z
 104  004D  2800     R  	jmp _L33
 106  004E              #line 106 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
 106  004E  0F10        	mov a,16
 106  004F  0580     E  	orm a,rc
 106  0050  0F00        	mov a,0
 106  0051  0580     E  	orm a,rb
 106  0052  2800     R  	jmp _L29
 106  0053              _L33:
 108  0053              #line 108 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
 108  0053  0700     E  	mov a,rd
 108  0054  0CFA        	xor a,250
 108  0055  0500     E  	or a,re
 108  0056  390A        	snz z
 108  0057  2800     R  	jmp _L25
 110  0058              #line 110 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
 110  0058  0F20        	mov a,32
 110  0059  0580     E  	orm a,rc
 110  005A  0F00        	mov a,0
 110  005B  0580     E  	orm a,rb
 111  005C              #line 111 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
 111  005C  0FC8        	mov a,-56
 111  005D  0080     R  	mov _keyCounter[0],a
 111  005E  1F00     R  	clr _keyCounter[1]
 111  005F              _L29:
 114  005F              #line 114 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
 114  005F  0700     E  	mov a,rb
 114  0060  0600     E  	and a,rc
 114  0061  0B01        	add a,1
 114  0062  3C0A        	sz c
 114  0063  2800     R  	jmp _L25
 114  0064              _L32:
 117  0064              #line 117 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
 117  0064  0700     E  	mov a,rb
 117  0065  0080     E  	mov _AppData[1],a
 117  0066  0700     E  	mov a,rc
 117  0067  0080     E  	mov _AppData[2],a
 117  0068              _L25:
 117  0068  0003        	ret
 117  0069              _KeyScan endp
 117  0069              #line 117 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
 117  0069              #pragma debug scope 1 1
 117  0069              public _GetKeyMsg
 117  0069              #pragma debug scope 6 1
 125  0069              #line 125 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
 125  0000              _GetKeyMsg .section 'code'
文件：key.c        编译器版本 HGASM 0202 页次6

 125  0000              _GetKeyMsg proc
 128  0000              #line 128 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
 128  0000  0700     E  	mov a,_AppData[1]
 128  0001  0080     E  	mov ra,a
 128  0002  0700     E  	mov a,_AppData[2]
 128  0003  0080     E  	mov rb,a
 130  0004              #line 130 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
 130  0004  0700     E  	mov a,ra
 130  0005  0600     E  	and a,rb
 130  0006  0B01        	add a,1
 130  0007  3C0A        	sz c
 130  0008  2800     R  	jmp _L42
 132  0009              #line 132 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
 132  0009  1F80     E  	set _AppData[1]
 132  000A  1F80     E  	set _AppData[2]
 132  000B              _L42:
 132  000B  0003        	ret
 132  000C              _GetKeyMsg endp
 132  000C              #line 132 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
 132  000C              #pragma debug scope 1 1
 132  0000              @HCCINIT0	.section	'data'
 132  0000  0002[       ___keyValue_2015	db 2 dup(0)
            00
            ]
 132  0002              #pragma debug variable 10 5 ___keyValue_2015 "keyValue"
 132  0002              
 132  0000              @HCCINIT .section 'data'
 132  0000              public _keyCounter
 132  0000              @HCCINIT	.section 'data'
   5  0000              #line 5 "F:\SVNRepo\Project\BS82D20A_AOPU_5KEY\USER_PROGRAM\key.c"
   5  0000              @HCCINIT .section 'data'
   5  0000              _keyCounter label byte
   5  0000              #pragma debug variable 10 1 _keyCounter "keyCounter"
   5  0000              	db 0
   5  0000              @ROMDATA_BASE .section inpage 'code'
   5  0000              	db 0
   5  0001              @HCCINIT .section 'data'
   5  0001              	db 0
   5  0001              @ROMDATA_BASE .section inpage 'code'
   5  0001              	db 0
   5  0002              @HCCINIT .section 'data'
   5  0002              
   5  0002              ; output external variables
   5  0002              extern _AppData:byte
   5  0002              
   5  0002              ; 
   5  0002              ; Generated by holtek-gcc v3.18, Thu Aug 02 09:03:51 2018
   5  0002              ; Rebuild 126
   5  0002              ; end of file


        0 Errors, 0